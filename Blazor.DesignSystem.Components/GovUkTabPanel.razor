@namespace Blazor.DesignSystem.Components

@{
    var isActive = Tabs?.IsTabActive(Id) ?? false;
}

<div class="govuk-tabs__panel @(!isActive ? "govuk-tabs__panel--hidden" : "") @CssClass" id="@Id" role="tabpanel" aria-labelledby="tab_@Id" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [CascadingParameter]
    private GovUkTabs? Tabs { get; set; }

    /// <summary>
    /// The unique identifier for the panel (must match the tab ID).
    /// </summary>
    [Parameter, EditorRequired]
    public string Id { get; set; } = string.Empty;

    /// <summary>
    /// The panel content.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Additional CSS classes to apply.
    /// </summary>
    [Parameter]
    public string? CssClass { get; set; }

    /// <summary>
    /// Additional HTML attributes to apply.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }
}
