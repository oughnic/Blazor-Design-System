@namespace Blazor.DesignSystem.Components

<nav class="govuk-pagination @CssClass" aria-label="@AriaLabel" @attributes="AdditionalAttributes">
    @if (PreviousHref != null)
    {
        <div class="govuk-pagination__prev">
            <a class="govuk-link govuk-pagination__link" href="@PreviousHref" rel="prev">
                <svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                    <path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>
                </svg>
                <span class="govuk-pagination__link-title">
                    @PreviousText
                </span>
                @if (!string.IsNullOrWhiteSpace(PreviousLabel))
                {
                    <span class="govuk-visually-hidden">:</span>
                    <span class="govuk-pagination__link-label">@PreviousLabel</span>
                }
            </a>
        </div>
    }
    @if (PageItems != null)
    {
        <ul class="govuk-pagination__list">
            @PageItems
        </ul>
    }
    @if (NextHref != null)
    {
        <div class="govuk-pagination__next">
            <a class="govuk-link govuk-pagination__link" href="@NextHref" rel="next">
                @if (!IsBlockLevel)
                {
                    <span class="govuk-pagination__link-title">
                        @NextText
                    </span>
                    @if (!string.IsNullOrWhiteSpace(NextLabel))
                    {
                        <span class="govuk-visually-hidden">:</span>
                        <span class="govuk-pagination__link-label">@NextLabel</span>
                    }
                    <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                        <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
                    </svg>
                }
                else
                {
                    <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                        <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
                    </svg>
                    <span class="govuk-pagination__link-title govuk-pagination__link-title--decorated">
                        @NextText
                    </span>
                    @if (!string.IsNullOrWhiteSpace(NextLabel))
                    {
                        <span class="govuk-visually-hidden">:</span>
                        <span class="govuk-pagination__link-label">@NextLabel</span>
                    }
                }
            </a>
        </div>
    }
</nav>

@code {
    /// <summary>
    /// The aria-label for the navigation. Defaults to "Pagination".
    /// </summary>
    [Parameter]
    public string AriaLabel { get; set; } = "Pagination";

    /// <summary>
    /// The URL for the previous page link.
    /// </summary>
    [Parameter]
    public string? PreviousHref { get; set; }

    /// <summary>
    /// The text for the previous link. Defaults to "Previous".
    /// </summary>
    [Parameter]
    public string PreviousText { get; set; } = "Previous";

    /// <summary>
    /// Optional label for the previous link.
    /// </summary>
    [Parameter]
    public string? PreviousLabel { get; set; }

    /// <summary>
    /// The URL for the next page link.
    /// </summary>
    [Parameter]
    public string? NextHref { get; set; }

    /// <summary>
    /// The text for the next link. Defaults to "Next".
    /// </summary>
    [Parameter]
    public string NextText { get; set; } = "Next";

    /// <summary>
    /// Optional label for the next link.
    /// </summary>
    [Parameter]
    public string? NextLabel { get; set; }

    /// <summary>
    /// The page number items (should contain GovUkPaginationItem components).
    /// </summary>
    [Parameter]
    public RenderFragment? PageItems { get; set; }

    /// <summary>
    /// Whether to use block-level pagination style.
    /// </summary>
    [Parameter]
    public bool IsBlockLevel { get; set; }

    /// <summary>
    /// Additional CSS classes to apply.
    /// </summary>
    [Parameter]
    public string? CssClass { get; set; }

    /// <summary>
    /// Additional HTML attributes to apply.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }
}
