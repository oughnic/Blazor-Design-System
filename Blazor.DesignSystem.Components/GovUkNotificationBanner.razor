@namespace Blazor.DesignSystem.Components

@{
    var bannerClass = "govuk-notification-banner";
    if (Type == "success")
    {
        bannerClass += " govuk-notification-banner--success";
    }
    if (!string.IsNullOrWhiteSpace(CssClass))
    {
        bannerClass += $" {CssClass}";
    }
}

<div class="@bannerClass" 
     role="@(Type == "success" ? "alert" : "region")" 
     aria-labelledby="@TitleId"
     data-module="govuk-notification-banner"
     @attributes="AdditionalAttributes">
    <div class="govuk-notification-banner__header">
        <h2 class="govuk-notification-banner__title" id="@TitleId">
            @Title
        </h2>
    </div>
    <div class="govuk-notification-banner__content">
        @ChildContent
    </div>
</div>

@code {
    /// <summary>
    /// The banner title. Defaults to "Important".
    /// </summary>
    [Parameter]
    public string Title { get; set; } = "Important";

    /// <summary>
    /// The ID for the title element.
    /// </summary>
    [Parameter]
    public string TitleId { get; set; } = $"notification-banner-title-{Guid.NewGuid():N}";

    /// <summary>
    /// The type of notification ("success" or empty for standard).
    /// </summary>
    [Parameter]
    public string? Type { get; set; }

    /// <summary>
    /// The banner content.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Additional CSS classes to apply.
    /// </summary>
    [Parameter]
    public string? CssClass { get; set; }

    /// <summary>
    /// Additional HTML attributes to apply.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }
}
